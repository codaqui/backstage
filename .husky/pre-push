#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ğŸš€ Pre-push Hook - Final Quality Gate
# Runs comprehensive checks before pushing to remote

echo "ğŸ” Running pre-push validation..."

# 1. Type check entire codebase
echo "ğŸ“ Full type check..."
yarn type-check || {
  echo "âŒ Type check failed!"
  exit 1
}

# 2. Lint all files
echo "ğŸ” Linting all files..."
yarn lint:all || {
  echo "âŒ Linting failed!"
  exit 1
}

# 3. Run tests
echo "ğŸ§ª Running tests..."
yarn test || {
  echo "âŒ Tests failed!"
  echo "ğŸ’¡ Fix failing tests before pushing"
  exit 1
}

echo "âœ… All pre-push checks passed!"
echo "ğŸš€ Pushing to remote..."
